# 🏛️ 곡성군 AI 민원상담 챗봇

곡성군 민원편람 PDF 문서를 기반으로 민원 관련 질문에 답변하는 RAG(Retrieval-Augmented Generation) 기반의 AI 챗봇 서비스입니다. 
Streamlit을 사용하여 웹 애플리케이션으로 구현되었습니다.

## 🌟 주요 특징 및 강점

이 챗봇은 단순한 정보 검색을 넘어, 민원인의 입장에서 가장 필요로 하는 정보를 정확하고 체계적으로 제공하는 데 중점을 두었습니다.

1.  **높은 신뢰성과 투명성**
    * 오직 `곡성군 민원편람 2025` PDF 파일의 내용만을 기반으로 답변을 생성하여, 잘못된 정보나 환각(Hallucination) 현상을 최소화합니다.
    * 답변의 근거가 된 문서의 **파일명과 페이지 번호, 원문 미리보기**를 함께 제공하여 사용자가 직접 출처를 확인하고 정보의 신뢰성을 검증할 수 있습니다.

2.  **민원 업무에 최적화된 답변 구조**
    * 프롬프트를 통해 AI가 민원인의 질문 의도를 파악하고, 다음과 같은 표준화된 형식에 맞춰 답변을 체계적으로 생성합니다.
        * **민원업무명, 처리기간, 구비서류, 수수료**
        * **처리 절차** (단계별 설명)
        * **신청 방법, 접수처, 담당부서**
        * **관련 법령/조례**
    * 이를 통해 사용자는 흩어져 있는 정보를 일일이 찾을 필요 없이, 한눈에 필요한 정보를 파악할 수 있습니다.

3.  **민원 서식 자동 추천 기능**
    * 사용자의 질문과 관련된 문서 내용에서 '별지', '서식', '신청서' 등의 키워드를 자동으로 탐지합니다.
    * 답변과 함께 **관련 별지/서식을 목록으로 추천**하여, 민원인이 필요한 서류를 놓치지 않도록 돕습니다.

4.  **효율적인 데이터 관리 및 빠른 응답**
    * PDF 문서의 내용이 변경되지 않았다면, 이미 생성된 벡터 인덱스를 재사용하는 **캐싱(Caching) 기능**을 구현했습니다. 이를 통해 불필요한 재처리 과정을 생략하여 리소스 낭비를 줄이고 초기 로딩 속도를 개선합니다.
    * 답변을 실시간으로 생성하여 보여주는 **스트리밍(Streaming) 기능**을 적용하여, 사용자가 답변을 기다리는 시간을 최소화하고 만족스러운 사용자 경험을 제공합니다.

## ⚙️ 시스템 아키텍처

이 챗봇은 RAG 파이프라인을 기반으로 동작합니다.

1.  **데이터 준비 (Indexing)**
    * `PyPDFLoader`를 사용해 `민원편람.pdf` 문서를 로드합니다.
    * `RecursiveCharacterTextSplitter`로 문서를 의미 있는 단위(Chunk)로 분할합니다.
    * OpenAI의 `text-embedding-3-small` 모델을 사용하여 각 Chunk를 벡터로 변환(Embedding)합니다.
    * `FAISS` 벡터 스토어에 변환된 벡터를 저장하여 인덱스를 구축합니다.

2.  **질문 처리 (Inference)**
    * 사용자가 질문을 입력하면, 질문 또한 벡터로 변환됩니다.
    * FAISS 벡터 스토어에서 질문 벡터와 가장 유사한 문서 Chunk들을 검색(Retrieval)합니다.
    * 검색된 문서 내용(Context)과 별지/서식 정보, 그리고 사용자 질문을 조합하여 최종 프롬프트를 구성합니다.
    * 구성된 프롬프트를 `gpt-4o-mini` 모델에 전달하여 최종 답변을 생성합니다.
    * Streamlit UI를 통해 생성된 답변을 사용자에게 실시간으로 출력합니다.

## 🚀 사용 방법

### 사전 준비 사항

* Python 3.8 이상
* Git

### 설치 및 실행 절차

1.  **프로젝트 클론**
    ```bash
    git clone <저장소_URL>
    cd <프로젝트_디렉터리>
    ```

2.  **필요한 라이브러리 설치**
    프로젝트에 필요한 모든 라이브러리는 `requirements.txt` 파일에 명시되어 있습니다.
    ```bash
    pip install -r requirements.txt
    ```

3.  **데이터 및 API 키 설정**
    * 프로젝트의 루트 디렉터리에 지식 기반으로 사용할 `minweonpyeonram-2025.pdf` 파일을 위치시킵니다.
    * OpenAI API 키가 필요합니다. 애플리케이션 실행 후 사이드바의 입력 필드에 키를 입력하면 됩니다. (키는 저장되지 않습니다.)

4.  **애플리케이션 실행**
    터미널에서 아래 명령어를 입력하여 Streamlit 서버를 실행합니다.
    ```bash
    streamlit run app.py
    ```

5.  **서비스 접속**
    웹 브라우저를 열고 터미널에 표시된 URL(기본: `http://localhost:8501`)로 접속하여 챗봇 서비스를 이용합니다.

## 📂 프로젝트 구조
네, 물론입니다. 바로 마크다운 형식으로 다시 작성해 드리겠습니다.

아래 내용을 복사하여 README.md 파일에 붙여넣으시면 됩니다.

Markdown

# 🏛️ 곡성군 AI 민원상담 챗봇

곡성군 민원편람 PDF 문서를 기반으로 민원 관련 질문에 답변하는 RAG(Retrieval-Augmented Generation) 기반의 AI 챗봇 서비스입니다. Streamlit을 사용하여 웹 애플리케이션으로 구현되었습니다.

## 🌟 주요 특징 및 강점

이 챗봇은 단순한 정보 검색을 넘어, 민원인의 입장에서 가장 필요로 하는 정보를 정확하고 체계적으로 제공하는 데 중점을 두었습니다.

1.  **높은 신뢰성과 투명성**
    * [cite_start]오직 `곡성군 민원편람 2025` PDF 파일의 내용만을 기반으로 답변을 생성하여, 잘못된 정보나 환각(Hallucination) 현상을 최소화합니다[cite: 1].
    * [cite_start]답변의 근거가 된 문서의 **파일명과 페이지 번호, 원문 미리보기**를 함께 제공하여 사용자가 직접 출처를 확인하고 정보의 신뢰성을 검증할 수 있습니다[cite: 1].

2.  **민원 업무에 최적화된 답변 구조**
    * [cite_start]고도로 설계된 프롬프트를 통해 AI가 민원인의 질문 의도를 파악하고, 다음과 같은 표준화된 형식에 맞춰 답변을 체계적으로 생성합니다[cite: 1].
        * **민원업무명, 처리기간, 구비서류, 수수료**
        * **처리 절차** (단계별 설명)
        * **신청 방법, 접수처, 담당부서**
        * **관련 법령/조례**
    * 이를 통해 사용자는 흩어져 있는 정보를 일일이 찾을 필요 없이, 한눈에 필요한 정보를 파악할 수 있습니다.

3.  **민원 서식 자동 추천 기능**
    * [cite_start]사용자의 질문과 관련된 문서 내용에서 '별지', '서식', '신청서' 등의 키워드를 자동으로 탐지합니다[cite: 1].
    * [cite_start]답변과 함께 **관련 별지/서식을 목록으로 추천**하여, 민원인이 필요한 서류를 놓치지 않도록 돕습니다[cite: 1].

4.  **효율적인 데이터 관리 및 빠른 응답**
    * [cite_start]PDF 문서의 내용이 변경되지 않았다면, 이미 생성된 벡터 인덱스를 재사용하는 **캐싱(Caching) 기능**을 구현했습니다[cite: 1]. 이를 통해 불필요한 재처리 과정을 생략하여 리소스 낭비를 줄이고 초기 로딩 속도를 개선합니다.
    * [cite_start]답변을 실시간으로 생성하여 보여주는 **스트리밍(Streaming) 기능**을 적용하여, 사용자가 답변을 기다리는 시간을 최소화하고 만족스러운 사용자 경험을 제공합니다[cite: 1].

## ⚙️ 시스템 아키텍처

이 챗봇은 RAG 파이프라인을 기반으로 동작합니다.

1.  **데이터 준비 (Indexing)**
    * [cite_start]`PyPDFLoader`를 사용해 `민원편람.pdf` 문서를 로드합니다[cite: 1].
    * [cite_start]`RecursiveCharacterTextSplitter`로 문서를 의미 있는 단위(Chunk)로 분할합니다[cite: 1].
    * [cite_start]OpenAI의 `text-embedding-3-small` 모델을 사용하여 각 Chunk를 벡터로 변환(Embedding)합니다[cite: 1].
    * [cite_start]`FAISS` 벡터 스토어에 변환된 벡터를 저장하여 인덱스를 구축합니다[cite: 1].

2.  **질문 처리 (Inference)**
    * 사용자가 질문을 입력하면, 질문 또한 벡터로 변환됩니다.
    * [cite_start]FAISS 벡터 스토어에서 질문 벡터와 가장 유사한 문서 Chunk들을 검색(Retrieval)합니다[cite: 1].
    * [cite_start]검색된 문서 내용(Context)과 별지/서식 정보, 그리고 사용자 질문을 조합하여 최종 프롬프트를 구성합니다[cite: 1].
    * 구성된 프롬프트를 `gpt-4o-mini` 모델에 전달하여 최종 답변을 생성합니다.
    * Streamlit UI를 통해 생성된 답변을 사용자에게 실시간으로 출력합니다.

## 🚀 사용 방법

### 사전 준비 사항

* Python 3.8 이상
* Git

### 설치 및 실행 절차

1.  **프로젝트 클론**
    ```bash
    git clone <저장소_URL>
    cd <프로젝트_디렉터리>
    ```

2.  **필요한 라이브러리 설치**
    프로젝트에 필요한 모든 라이브러리는 `requirements.txt` 파일에 명시되어 있습니다.
    ```bash
    pip install -r requirements.txt
    ```

3.  **데이터 및 API 키 설정**
    * 프로젝트의 루트 디렉터리에 지식 기반으로 사용할 `minweonpyeonram-2025.pdf` 파일을 위치시킵니다.
    * OpenAI API 키가 필요합니다. 애플리케이션 실행 후 사이드바의 입력 필드에 키를 입력하면 됩니다. (키는 저장되지 않습니다.)

4.  **애플리케이션 실행**
    터미널에서 아래 명령어를 입력하여 Streamlit 서버를 실행합니다.
    ```bash
    streamlit run app.py
    ```

5.  **서비스 접속**
    웹 브라우저를 열고 터미널에 표시된 URL(기본: `http://localhost:8501`)로 접속하여 챗봇 서비스를 이용합니다.

## 📂 프로젝트 구조

.
├── app.py                  # Streamlit 웹 애플리케이션 실행 파일
├── rag_logic.py            # RAG 파이프라인 핵심 로직 (데이터 처리, 검색, 프롬프트 구성 등)
├── requirements.txt        # 프로젝트 실행에 필요한 파이썬 라이브러리 목록
├── minweonpyeonram-2025.pdf  # (사용자 준비) AI 챗봇의 지식 기반이 되는 민원편람 원문
└── faiss_minweonpyeonram_2025/ # (자동 생성) PDF를 벡터화하여 저장하는 디렉터리
